<style >#an{display: flex;}#an a{display: block; margin: 10px; border: solid 1px #ccc; padding: .5em 1em;}
</style>
<nav id="an"></nav>

<div id="img_wrap">
  <!-- ここに画像が埋め込まれる -->
</div>

<style>#goTop{display: block;} 
#an{background-color: #fff;}</style>
<a id="goTop">^</a>

<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script>

$(function(){
  $('a[href^="#"]').click(function() {
      // アンカーの値取得
      var href= $(this).attr("href");
      // 移動先を取得
      var target = $(href);
      // 移動先を数値で取得
      var position = target.offset().top -100 ;
      // スムーススクロール
      $('body').animate({scrollTop:position}, 300 );
      return false;
   });


   $(window).scroll(function() {
      var top = $(window).scrollTop();
      console.log(top);
      if(top > 100){
        $('#an').css('position','fixed');
      }else{
        $('#an').css('position','static');
      }
    });


});


	prt();

 function prt(){
    var elem = '';
    var nav = '';

    
    for( let i=0 ; i < 7 ; i++ ){
      elem += `<div class="row">
      	<h2 id="kuji-${i}"> ${i}</h2>
      	<img class="product" src="images/${i}.png">
      </div>` ;

      nav += `<a href="#kuji-${i}">${i}</a>`;
    }
    $('#img_wrap').html(elem);
    $('#an').html(nav);

     $('.product').css('width','200px');
  }

  </script>